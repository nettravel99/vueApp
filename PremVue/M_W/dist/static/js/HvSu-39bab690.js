(window.webpackJsonp=window.webpackJsonp||[]).push([["HvSu"],{HvSu:function(t,e,n){"use strict";n.r(e);var r=n("QbLZ"),s=n.n(r),i=n("14Xm"),o=n.n(i),a=n("D3Ub"),u=n.n(a),c=n("L2JU"),l=n("XJYT"),d=n("wHSu"),h=n("Nlzp"),p={components:{faUser:d.c},created:function(){var t=this;return u()(o.a.mark(function e(){var n,r,s,i,a,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===t.$store.state.app.appLoading&&l.Loading.service().close(),n=t.getQueryVariable("ENTITY"),isNaN(Number(n))||Number(n)===Number(t.$store.state.user.entity)){e.next=7;break}return e.next=5,t.onCommandDropdown(n-1);case 5:e.next=13;break;case 7:r=t.permission_routers.find(function(t){return"Submissions"===t.name}).children[0],s="/lite-submissions/",i=r.path,a=r.children[0].path,u=r.children[0].children[0].path,t.$router.push(s+i+"/"+a+"/"+u+"?noLayout=1");case 13:case"end":return e.stop()}},e,t)}))()},data:function(){return{activeIndex2:"1",key:this.getRoutekey()}},computed:s()({},Object(c.b)(["permission_routers"]),{routes:function(){return this.permission_routers.find(function(t){return"lite-submissions"===t.name}).children}}),beforeDestroy:function(){var t=this;return u()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.dispatch("LogOut"),window.close();case 2:case"end":return e.stop()}},e,t)}))()},methods:{getQueryVariable:function(t){for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}},getRoutekey:function(){return(this.$route.meta.PROG||"")+"-"+(this.$route.meta.FOLDER||"")+"-"+(new Date).getTime()},handleSelect:function(t){this.key=this.getRoutekey(),this.$router.push(t)},logout:function(){var t=this;return u()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("LogOut");case 2:window.close();case 3:case"end":return e.stop()}},e,t)}))()},onCommandDropdown:function(t){var e=this;return u()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(h.a)("changeEntity^MW",{entity:t+1});case 2:if(!(r=n.sent)||!r.data||1!=r.data.result){n.next=11;break}return n.next=6,e.$store.dispatch("GetUserInfo").then(function(t){e.$store.dispatch("GenerateRoutes",t.data).then(function(){e.$router.addRoutes(e.$store.getters.addRouters)})}).catch(function(){});case 6:e.$store.dispatch("SetCurrentEntity",t+1),e.key=e.getRoutekey(),setTimeout(function(){var t=e.permission_routers.find(function(t){return"Submissions"===t.name}).children[0],n=t.path,r=t.children[0].path,s=t.children[0].children[0].path;e.$router.push("/lite-submissions/"+n+"/"+r+"/"+s+"?noLayout=1")},50),n.next=12;break;case 11:e.$alert(r.data.result,"Entity Not Changed !",{confirmButtonText:"OK"});case 12:case"end":return n.stop()}},n,e)}))()}}},m=n("KHd+"),f=Object(m.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{staticClass:"row-bg",staticStyle:{height:"30px","font-size":"12","background-color":"#545c64",color:"#ffd04b","line-height":"30px"},attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:12}},[n("span",{staticStyle:{"font-size":"13px","font-color":"white",color:"white"}},[t._v(t._s(t.$store.state.user.entities[t.$store.state.user.entity-1])),t.$route.meta&&t.$route.meta.FOLDER?n("span",[t._v("    -    "+t._s(t.$route.meta&&t.$route.meta.FOLDER?t.$route.meta.FOLDER:"")+"   -   "+t._s(t.$route.meta.NAME))]):t._e()])]),t._v(" "),n("el-col",{attrs:{span:6}},[n("div",{staticStyle:{float:"right"}},[n("div",{staticStyle:{"font-size":"13px"}},[n("el-button",{attrs:{type:"info",icon:"el-icon-close",size:"mini"},on:{click:t.logout}})],1)])])],1),t._v(" "),n("el-menu",{attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},t._l(t.routes,function(e,r){return n("el-submenu",{key:e.path,attrs:{index:""+r,item:e,"base-path":e.path}},[n("template",{slot:"title"},[t._v("   "+t._s(e.meta.title)+"   ")]),t._v(" "),e.children?t._e():n("el-menu-item",{attrs:{index:"/lite-submissions/"+e.path+"/?noLayout=1"}},[t._v("\r\n         "+t._s(e.meta.title)+"\r\n    ")]),t._v(" "),e.children&&e.children[0].children?n("el-submenu",{attrs:{index:String(r)}},[n("template",{slot:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(s,i){return n("el-submenu",{key:r+"-"+i,attrs:{index:r+"-"+i}},[n("template",{slot:"title"},[t._v(t._s(s.meta.title))]),t._v(" "),t._l(s.children,function(o,a){return n("el-menu-item",{key:r+"-"+i+"-"+a+"-"+r,attrs:{index:"/lite-submissions/"+e.path+"/"+s.path+"/"+o.path+"/?noLayout=1"}},[t._v("\r\n             "+t._s(o.meta.title)+"\r\n         ")])})],2)})],2):t._e(),t._v(" "),e.children&&!e.children[0].children?n("el-submenu",{attrs:{index:String(r)}},[n("template",{slot:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e,s){return n("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:"EISCP"!==e.path&&"WEB^TKVBEOBR"!==e.path,expression:"rcc.path !== 'EISCP' && rcc.path !== 'WEB^TKVBEOBR'"}],key:r+"-"+s,attrs:{index:"/lite-submissions/electronic-submissions-reports/"+e.path+"/?noLayout=1"}},[t._v("\r\n         "+t._s(e.meta.title)+"\r\n        ")])})],2):t._e()],2)})),t._v(" "),n("router-view",{key:t.key})],1)},[],!1,null,null,null);f.options.__file="mwsub.vue";e.default=f.exports}}]);